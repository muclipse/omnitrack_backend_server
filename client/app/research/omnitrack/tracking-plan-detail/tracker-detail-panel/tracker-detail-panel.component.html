<div class="menu-panel">
  <div class="form-group">
    <label class="small" for="trackerName">Tracker Name</label>
    <input type="text" class="form-control" id="trackerName" [(ngModel)]="tracker.name">
  </div>

  <div class="form-group no-padding-top flex-container flex-align-items-center flex-stretch">
    <label class="small no-margin">Permissions</label>
    <app-lock-flag-button [model]="tracker" lockType="tracker"></app-lock-flag-button>
  </div>

  <div class="form-group">
    <label class="small">Color</label>
    <div class="color-palette-picker">
      <div class="color-button" *ngFor="let color of getTrackerColorPalette()" (click)="onColorButtonClicked(color)">
        <div class="color-element" [style.background]="color" [class.selected]="getCurrentColorIndex() === color">
          <mat-icon *ngIf="getCurrentColorIndex() === color" class="material-icons">done</mat-icon>
        </div>
      </div>
    </div>
  </div>
  <div class="form-group">
    <app-boolean-property-view title="On Shortcut" [(propertyValue)]="tracker.isBookmarked"></app-boolean-property-view>
  </div>

  <div class="subheader">Fields</div>
  <ng-container *ngIf="tracker.attributes && tracker.attributes.length > 0">
    <app-selectable-menu-item *ngFor="let field of tracker.attributes" [title]="field.name"
      [iconPath]="'/assets/omnitrack/field_icons_small/icon_small_' + getAttributeIconName(field) + '.svg'"
      [selected]="selectedEntity === field" (onClick)="onFieldClicked(field)"></app-selectable-menu-item>
  </ng-container>

  <div class="form-group">
      <button mat-button class="add-button mat-button-small" color="accent"
        (click)="onAddFieldClicked()">
        <span class="material-icons">add</span>
        <span>Add New Field</span>
      </button>
    </div>

  <div class="subheader">Reminders</div>
  <app-selectable-menu-item *ngFor="let reminder of getReminders()" [title]="getReminderTitle(reminder)" (onClick)="onReminderClicked(reminder)"
    [selected]="selectedEntity === reminder"
  ></app-selectable-menu-item>
</div>
<app-field-detail-panel *ngIf="selectedEntity && selectedType==='field'" [field]="selectedEntity"></app-field-detail-panel>

<app-trigger-detail-panel *ngIf="selectedEntity && selectedType==='reminder'" [trigger]="selectedEntity"></app-trigger-detail-panel>